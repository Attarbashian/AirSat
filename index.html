<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="referrer" content="strict-origin-when-cross-origin" />

  <title>AirSat â€” Satellite-Based Air Pollution Monitoring System for Iran</title>
  <meta name="description" content="AirSat is a dynamic satellite-based air pollution monitoring system for Iran built on Sentinel-5P (Level-3, OFFL) data (2018â€“present). Interactive maps, hotspots, charts, and direct downloads. Fully bilingual (EN/FA)." />

  <!-- Search Console (already verified; keep if you want) -->
  <meta name="google-site-verification" content="tOP_Xt49kmM6PbEaEkpnwRIb9jQ1bvMHb_bThp8Fv2I" />

  <!-- Open Graph / Twitter -->
  <meta property="og:title" content="AirSat â€” Satellite-Based Air Pollution Monitoring" />
  <meta property="og:description" content="Satellite-based air pollution monitoring for Iran (Sentinel-5P, 2018â€“present). Maps, hotspots, charts, downloads. EN/FA." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="AirSat.jpg" />
  <meta name="twitter:card" content="summary_large_image" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Vazirmatn:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg: #070b16;
      --panel: rgba(255,255,255,.06);
      --panel2: rgba(255,255,255,.09);
      --border: rgba(255,255,255,.14);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.70);

      --a1: rgba(56,189,248,.92);
      --a2: rgba(34,197,94,.92);
      --a3: rgba(168,85,247,.92);

      --shadow: 0 22px 70px rgba(0,0,0,.55);
      --r16: 16px;
      --r20: 20px;
      --max: 1120px;

      --font-en: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      --font-fa: Vazirmatn, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;

      --ease: cubic-bezier(.2,.9,.2,1);
      --t: 160ms var(--ease);
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body{
      margin:0;
      color: var(--text);
      background:
        radial-gradient(980px 480px at 15% 0%, rgba(56,189,248,.16), transparent 60%),
        radial-gradient(920px 460px at 85% 10%, rgba(34,197,94,.12), transparent 55%),
        radial-gradient(760px 420px at 55% 88%, rgba(168,85,247,.11), transparent 60%),
        radial-gradient(520px 280px at 18% 75%, rgba(56,189,248,.10), transparent 60%),
        var(--bg);
        background-attachment: fixed;
      font-family: var(--font-en);
      line-height: 1.7;
      letter-spacing: -0.01em;
      overflow-x: hidden;
    }

    a { color: inherit; text-decoration: none; }
    a:focus-visible, button:focus-visible { outline: 2px solid rgba(56,189,248,.55); outline-offset: 3px; border-radius: 10px; }

    .wrap{ max-width: var(--max); margin: 0 auto; padding: 18px 18px 76px; }

    .grid-bg{
      position: fixed; inset: 0; pointer-events:none; opacity: .22;
      background-image:
        linear-gradient(to right, rgba(255,255,255,.05) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(255,255,255,.05) 1px, transparent 1px);
      background-size: 70px 70px;
      mask-image: radial-gradient(circle at 40% 10%, black 0%, transparent 70%);
    }

    /* Navbar */
    .nav{
      position: sticky; top: 10px; z-index: 30;
      display:flex; align-items:center; justify-content:space-between; gap: 10px;
      padding: 10px 12px;
      border: 1px solid var(--border);
      border-radius: 999px;
      background: rgba(255,255,255,.05);
      backdrop-filter: blur(12px);
      box-shadow: 0 10px 40px rgba(0,0,0,.35);
    }
    .brand{
      display:flex; align-items:center; gap:10px; padding: 6px 10px; border-radius: 999px;
    }
    .brand:hover{ background: rgba(255,255,255,.05); }
    .mark{
      width: 28px; height: 28px; border-radius: 10px;
      background:
        radial-gradient(12px 12px at 30% 30%, rgba(255,255,255,.22), transparent 60%),
        linear-gradient(135deg, rgba(56,189,248,.35), rgba(34,197,94,.18));
      border: 1px solid rgba(56,189,248,.25);
      box-shadow: 0 0 22px rgba(56,189,248,.16);
    }
    .brand .t{
      display:flex; flex-direction:column; line-height: 1.1;
    }
    .brand .t b{ letter-spacing: -0.02em; }
    .brand .t span{ font-size: 12px; color: var(--muted); }

    .navlinks{
      display:flex; gap: 6px; align-items:center;
      color: var(--muted); font-size: 14px;
    }
    .navlinks a{
      padding: 8px 10px; border-radius: 999px;
      border: 1px solid transparent;
      transition: background var(--t), border-color var(--t), transform var(--t), color var(--t);
    }
    .navlinks a:hover{
      background: rgba(255,255,255,.06);
      border-color: rgba(255,255,255,.12);
      color: var(--text);
      transform: translateY(-1px);
    }

    .lang{
      display:flex; gap: 6px; align-items:center;
    }
    .pill{
      display:inline-flex; align-items:center; justify-content:center;
      gap: 8px;
      padding: 8px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.04);
      color: var(--muted);
      font-size: 14px;
      transition: background var(--t), border-color var(--t), transform var(--t), color var(--t);
      cursor: pointer;
      user-select: none;
    }
    .pill:hover{ transform: translateY(-1px); background: rgba(255,255,255,.07); color: var(--text); }
    .pill.active{
      color: var(--text);
      background: rgba(56,189,248,.14);
      border-color: rgba(56,189,248,.34);
    }

    .menuBtn{ display:none; }
    @media (max-width: 880px){
      .navlinks{ display:none; }
      .menuBtn{ display:inline-flex; }
    }

    /* Mobile drawer */
    .drawer{
      display:none;
      margin-top: 10px;
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 18px;
      background: rgba(255,255,255,.05);
      padding: 10px;
    }
    .drawer a{ display:block; padding: 10px 12px; border-radius: 12px; color: var(--muted); }
    .drawer a:hover{ background: rgba(255,255,255,.06); color: var(--text); }
    .drawer.open{ display:block; }

    /* Hero */
    .hero{
      margin-top: 18px;
      border-radius: var(--r20);
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.04);
      box-shadow: var(--shadow);
      overflow:hidden;
      position: relative;
    }
    .hero::before{
      content:"";
      position:absolute; inset:-2px;
      background:
        radial-gradient(480px 220px at 20% 20%, rgba(56,189,248,.18), transparent 60%),
        radial-gradient(520px 240px at 78% 15%, rgba(34,197,94,.12), transparent 60%),
        radial-gradient(540px 260px at 55% 90%, rgba(168,85,247,.10), transparent 60%);
      pointer-events:none;
    }
    .hero-inner{
      position: relative;
      padding: 22px;
      display:grid;
      grid-template-columns: 1.15fr .85fr;
      gap: 16px;
      align-items: center;
    }
    @media (max-width: 980px){
      .hero-inner{ grid-template-columns: 1fr; }
    }

    .badge{
      display:inline-flex; align-items:center; gap:8px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.05);
      color: var(--muted);
      font-size: 13px;
      width: fit-content;
    }
    .spark{
      width: 10px; height: 10px; border-radius: 50%;
      background: rgba(56,189,248,.95);
      box-shadow: 0 0 18px rgba(56,189,248,.55);
    }

    h1{
      margin: 10px 0 10px;
      font-size: clamp(30px, 4.4vw, 54px);
      line-height: 1.08;
      letter-spacing: -0.03em;
    }
    .lead{
      color: var(--muted);
      max-width: 78ch;
      margin: 0 0 14px;
      font-size: 16px;
    }

    .cta{
      display:flex; flex-wrap: wrap;
      gap: 10px;
      margin-top: 14px;
    }
    .btn{
      display:inline-flex; align-items:center; justify-content:center;
      gap: 10px;
      padding: 10px 14px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.05);
      transition: transform var(--t), background var(--t), border-color var(--t);
      font-weight: 600;
      font-size: 14px;
      cursor:pointer;
    }
    .btn:hover{ transform: translateY(-1px); background: rgba(255,255,255,.09); border-color: rgba(255,255,255,.20); }
    .btn.primary{
      background: rgba(56,189,248,.15);
      border-color: rgba(56,189,248,.35);
    }
    .btn.primary:hover{ background: rgba(56,189,248,.22); }
    .btn.ghost{ background: transparent; }
    .btn.small{ padding: 8px 12px; font-size: 13px; }

    .meta-row{
      display:flex; flex-wrap:wrap; gap: 8px 12px;
      align-items:center;
      margin-top: 14px;
      color: var(--muted);
      font-size: 13px;
    }
    .meta-row b{ color: rgba(255,255,255,.85); font-weight: 600; }

    .shot{
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      border-radius: var(--r16);
      padding: 10px;
      overflow: hidden;
    }
    .shot img{
      width: 100%;
      height: auto;
      display:block;
      border-radius: 12px;
      transform: translateZ(0);
    }
    .shot .cap{
      margin-top: 10px;
      font-size: 13px;
      color: var(--muted);
    }

    /* Sections */
    .section{
      margin-top: 18px;
      border-radius: var(--r20);
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      padding: 18px;
    }
    .section h2{
      margin: 0 0 8px;
      font-size: 18px;
      letter-spacing: -0.02em;
    }
    .section p{ margin: 0; color: var(--muted); }

    .grid{
      margin-top: 14px;
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 12px;
    }
    .card{
      grid-column: span 6;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.04);
      border-radius: var(--r16);
      padding: 14px;
      transition: transform var(--t), background var(--t), border-color var(--t);
    }
    .card:hover{
      transform: translateY(-2px);
      background: rgba(255,255,255,.06);
      border-color: rgba(255,255,255,.18);
    }
    @media (max-width: 920px){
      .card{ grid-column: span 12; }
    }
    .card h3{
      margin: 0 0 6px;
      font-size: 16px;
      display:flex; align-items:center; gap:10px;
    }
    .card p{ margin: 0; color: var(--muted); font-size: 14px; }

    .list{
      margin: 10px 0 0;
      padding-left: 18px;
      color: var(--muted);
      font-size: 14px;
    }
    .list li{ margin: 6px 0; }

    .ico{ width: 18px; height: 18px; display:inline-block; opacity: .95; }

    /* Language blocks */
    .langBlock{ display:none; }
    .langBlock.active{ display:block; }

    /* Persian */
    .fa, .fa * { font-family: var(--font-fa); }
    .fa { direction: rtl; text-align: right; }
    .fa .list{ padding-right: 18px; padding-left: 0; }

    /* Citation box */
    .mono{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 12.8px;
    }
    .citebox{
      margin-top: 10px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      border-radius: 14px;
      padding: 12px;
      overflow:auto;
      color: rgba(255,255,255,.84);
      white-space: pre-wrap;
    }
    .row{
      display:flex; gap:10px; align-items:center; flex-wrap:wrap;
      margin-top: 10px;
    }
    .hint{ color: var(--muted); font-size: 13px; margin-top: 8px; }

    details{
      margin-top: 10px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      border-radius: 14px;
      padding: 10px 12px;
    }
    summary{
      cursor: pointer;
      color: rgba(255,255,255,.88);
      font-weight: 700;
      list-style: none;
    }
    summary::-webkit-details-marker{ display:none; }
    .details-body{ margin-top: 8px; color: var(--muted); font-size: 14px; }

    .toast{
      position: fixed;
      bottom: 18px;
      left: 50%;
      transform: translateX(-50%);
      padding: 10px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.55);
      backdrop-filter: blur(10px);
      color: rgba(255,255,255,.88);
      font-size: 13px;
      opacity: 0;
      pointer-events:none;
      transition: opacity 180ms var(--ease), transform 180ms var(--ease);
      z-index: 60;
    }
    .toast.show{ opacity: 1; transform: translateX(-50%) translateY(-2px); }

    footer{
      margin-top: 18px;
      text-align:center;
      color: var(--muted);
      font-size: 13px;
      padding: 18px 6px 0;
    }

    .fadeIn{ animation: fadeIn .55s var(--ease) both; }
    @keyframes fadeIn{
      from { opacity: 0; transform: translateY(8px); }
      to   { opacity: 1; transform: translateY(0); }
    }
  </style>

  <!-- Structured data -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":["SoftwareApplication","ResearchProject"],
    "name":"AirSat",
    "description":"Dynamic satellite-based air pollution monitoring system for Iran built on Sentinel-5P (Level-3, OFFL) data (2018â€“present).",
    "applicationCategory":"ScientificApplication",
    "operatingSystem":"Web",
    "image":"AirSat.jpg",
    "author":{"@type":"Person","name":"Vahid Attarbashian"},
    "url":"https://attarbashian.github.io/AirSat/",
    "sameAs":["https://github.com/Attarbashian/AirSat","https://doi.org/10.5281/zenodo.18525599"]
  }
  </script>
</head>

<body>
  <div class="grid-bg"></div>

  <div class="wrap">
    <!-- NAV -->
    <div class="nav fadeIn" id="top">
      <a class="brand" href="#top">
        <span class="mark"></span>
        <span class="t">
          <b>AirSat</b>
          <span id="brandSub">Satellite air quality monitoring (Iran)</span>
        </span>
      </a>

      <div class="navlinks" aria-label="Primary navigation">
        <a href="#overview" id="navOverview">Overview</a>
        <a href="#features" id="navFeatures">Features</a>
        <a href="#demos" id="navDemos">Live demos</a>
        <a href="#cite" id="navCite">Cite</a>
        <a href="#about" id="navAbout">About</a>
      </div>

      <div class="lang" aria-label="Language switch">
        <button class="pill active" type="button" id="btnEN" aria-pressed="true">ğŸ‡¬ğŸ‡§ EN</button>
        <button class="pill" type="button" id="btnFA" aria-pressed="false">ğŸ‡®ğŸ‡· FA</button>
        <button class="pill menuBtn" type="button" id="menuBtn" aria-label="Menu">â˜°</button>
      </div>
    </div>

    <div class="drawer" id="drawer" aria-label="Mobile menu">
      <a href="#overview" id="drawerOverview">Overview</a>
      <a href="#features" id="drawerFeatures">Features</a>
      <a href="#demos" id="drawerDemos">Live demos</a>
      <a href="#cite" id="drawerCite">Cite</a>
      <a href="#about" id="drawerAbout">About</a>
    </div>

    <!-- HERO -->
    <section class="hero fadeIn" aria-label="Hero">
      <div class="hero-inner">
        <div>
          <div class="badge">
            <span class="spark"></span>
            <span id="badgeText">Nationwide, satellite-driven â€¢ Built on Google Earth Engine</span>
          </div>

          <!-- EN -->
          <div class="langBlock active" id="blockEN">
            <h1>AirSat â€” Satellite-based air pollution monitoring for Iran</h1>
            <p class="lead">
              AirSat is a dynamic satellite-based air pollution monitoring system for Iran, built on Sentinel-5P
              (Level-3, OFFL) data from 2018 onwards. For a user-selected time window, it computes temporal means and visualizes
              them as maps and charts.
            </p>

            <div class="cta" id="demos">
              <a class="btn primary" href="https://attarbashian.users.earthengine.app/view/eairsat" target="_blank" rel="noopener">
                Live Demo (English)
              </a>

              <a class="btn" href="https://attarbashian.users.earthengine.app/view/airsat" target="_blank" rel="noopener">
                Persian Demo
              </a>

              <a class="btn ghost" href="https://github.com/Attarbashian/AirSat" target="_blank" rel="noopener">
                GitHub Repository
              </a>

              <a class="btn" href="https://doi.org/10.5281/zenodo.18525599" target="_blank" rel="noopener" aria-label="DOI">
                <img src="https://zenodo.org/badge/DOI/10.5281/zenodo.18525599.svg" alt="DOI" style="height:18px; width:auto;">
              </a>

              <a class="btn" href="mailto:attarbashian@gmail.com">
                Contact
              </a>
            </div>

            <div class="meta-row">
              <span>Designed & implemented by <b>Vahid Attarbashian</b></span>
              <span>â€¢</span>
              <span>Part of a broader PhD research project</span>
            </div>
          </div>

          <!-- FA -->
          <div class="langBlock fa" id="blockFA">
            <h1>Ø§ÛŒØ±Ø³Ø§Øª â€” Ù¾Ø§ÛŒØ´ Ù…Ø§Ù‡ÙˆØ§Ø±Ù‡â€ŒØ§ÛŒ Ø¢Ù„ÙˆØ¯Ú¯ÛŒ Ù‡ÙˆØ§ Ø¨Ø±Ø§ÛŒ Ø§ÛŒØ±Ø§Ù†</h1>
            <p class="lead">
              Ø§ÛŒØ±Ø³Ø§Øª ÛŒÚ© Ø³Ø§Ù…Ø§Ù†Ù‡ Ù¾ÙˆÛŒØ§ Ø¨Ø±Ø§ÛŒ Ù¾Ø§ÛŒØ´ Ø¢Ù„ÙˆØ¯Ú¯ÛŒ Ù‡ÙˆØ§ Ø¯Ø± Ø§ÛŒØ±Ø§Ù† Ø§Ø³Øª Ú©Ù‡ Ø¨Ø± Ù¾Ø§ÛŒÙ‡ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Sentinel-5P (Level-3, OFFL)
              Ø§Ø² Ø³Ø§Ù„ Û²Û°Û±Û¸ Ø¨Ù‡ Ø¨Ø¹Ø¯ ØªÙˆØ³Ø¹Ù‡ ÛŒØ§ÙØªÙ‡. Ø¯Ø± Ø¨Ø§Ø²Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ÛŒ Ú©Ø§Ø±Ø¨Ø±ØŒ Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø²Ù…Ø§Ù†ÛŒ Ø±Ø§ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ú©Ø±Ø¯Ù‡ Ùˆ Ø¨Ù‡â€ŒØµÙˆØ±Øª
              Ù†Ù‚Ø´Ù‡â€ŒÙ‡Ø§ Ùˆ Ù†Ù…ÙˆØ¯Ø§Ø±Ù‡Ø§ÛŒ ØªØ¹Ø§Ù…Ù„ÛŒ Ù†Ù…Ø§ÛŒØ´ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.
            </p>

            <div class="cta">
              <a class="btn primary" href="https://attarbashian.users.earthengine.app/view/airsat" target="_blank" rel="noopener">
                ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ù†Ø³Ø®Ù‡ ÙØ§Ø±Ø³ÛŒ
              </a>

              <a class="btn" href="https://attarbashian.users.earthengine.app/view/eairsat" target="_blank" rel="noopener">
                Ù†Ø³Ø®Ù‡ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ
              </a>

              <a class="btn ghost" href="https://github.com/Attarbashian/AirSat" target="_blank" rel="noopener">
                Ù…Ø®Ø²Ù† Ú¯ÛŒØªâ€ŒÙ‡Ø§Ø¨
              </a>

              <a class="btn" href="https://doi.org/10.5281/zenodo.18525599" target="_blank" rel="noopener" aria-label="DOI">
                <img src="https://zenodo.org/badge/DOI/10.5281/zenodo.18525599.svg" alt="DOI" style="height:18px; width:auto;">
              </a>

              <a class="btn" href="mailto:attarbashian@gmail.com">
                ØªÙ…Ø§Ø³
              </a>
            </div>

            <div class="meta-row">
              <span>Ø·Ø±Ø§Ø­ÛŒ Ùˆ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ: <b>ÙˆØ­ÛŒØ¯ Ø¹Ø·Ø§Ø±Ø¨Ø§Ø´ÛŒØ§Ù†</b></span>
              <span>â€¢</span>
              <span>Ø¨Ø®Ø´ÛŒ Ø§Ø² Ù¾Ú˜ÙˆÙ‡Ø´ Ø¯Ú©ØªØ±ÛŒ</span>
            </div>
          </div>
        </div>

        <div class="shot" aria-label="Preview">
          <img src="./AirSat.jpg" alt="AirSat preview" />
          
        </div>
      </div>
    </section>

    <!-- OVERVIEW -->
    <section class="section fadeIn" id="overview">
      <h2 id="secOverviewTitle">Overview</h2>
      <p id="secOverviewDesc">Scope, pollutants, and what the system computes and visualizes.</p>

      <div class="grid">
        <div class="card">
          <h3><span id="card1Title">Pollutants covered</span></h3>
          <p id="card1Desc">NOâ‚‚, SOâ‚‚, CO, Oâ‚ƒ, HCHO, CHâ‚„, and UV Aerosol Index (Sentinel-5P).</p>
        </div>

        <div class="card">
          <h3><span id="card2Title">Time-window means</span></h3>
          <p id="card2Desc">Compute temporal means for selected windows (7d, 30d, last 3 months, year, or custom range).</p>
        </div>

        <div class="card">
          <h3><span id="card3Title">Hotspots & province view</span></h3>
          <p id="card3Desc">Hotspot maps for the whole country or each province separately.</p>
        </div>

        <div class="card">
          <h3><span id="card4Title">Maps, charts, and downloads</span></h3>
          <p id="card4Desc">Maps + charts plus direct downloads of GeoTIFF (raw) and PNG (color maps).</p>
        </div>

        <div class="card">
          <h3><span id="card5Title">Data source</span></h3>
          <p id="card5Desc">Sentinel-5P (Level-3, OFFL), 2018â€“present. Temporal averaging over user-selected windows.</p>
        </div>

        <div class="card">
          <h3><span id="card6Title">Intended use</span></h3>
          <p id="card6Desc">Designed for trends, hotspots, and relative comparisonsâ€”complementary to ground stations and models.</p>
        </div>
      </div>
    </section>

    <!-- FEATURES -->
    <section class="section fadeIn" id="features">
      <h2 id="secFeaturesTitle">Features</h2>
      <p id="secFeaturesDesc">Analysis modes, comparisons, and scientific notes about units and gaps.</p>

      <div class="grid">
        <div class="card">
          <h3><span id="feat1Title">Dynamic mean maps</span></h3>
          <p id="feat1Desc">7 days, 30 days, last 3 months, current year, or custom time range.</p>
        </div>

        <div class="card">
          <h3><span id="feat2Title">Provincial comparison</span></h3>
          <p id="feat2Desc">Bar chart comparison of provincial mean values over the selected period.</p>
        </div>

        <div class="card">
          <h3><span id="feat3Title">Time series & annual mode</span></h3>
          <p id="feat3Desc">For any province: mean per image or mean per year comparisons.</p>
        </div>

        <div class="card">
          <h3><span id="feat4Title">Downloads</span></h3>
          <p id="feat4Desc">Direct download of GeoTIFF (raw) and PNG (color maps) for analysis/reporting.</p>
        </div>
      </div>

      <details>
        <summary id="unitsTitle">About units (important)</summary>
        <div class="details-body" id="unitsBody">
          For most pollutants, Sentinel-5P provides column densities in mol/mÂ² (vertical column amount), not surface concentration.
          Converting to ppm or Âµg/mÂ³ requires additional information and is not performed internally in this version.
          Methane (CHâ‚„) is shown as dry-air mole fraction in ppb as defined by the Sentinel-5P CHâ‚„ product.
        </div>
      </details>

      <details>
        <summary id="gapsTitle">Why do some areas show data gaps (â€œholesâ€)?</summary>
        <div class="details-body" id="gapsBody">
          QA masking can remove low-confidence pixels (clouds, geometry, retrieval issues, orbit edges), producing patchy patterns.
          Expanding the time window may improve coverage via temporal averaging.
        </div>
      </details>

      <details>
        <summary id="noteTitle">Important note</summary>
        <div class="details-body" id="noteBody">
          AirSat complements ground-based monitoring and numerical models, not a replacement.
          It is intended for trends, large-scale patterns, hotspots, and relative differencesâ€”rather than legal compliance.
        </div>
      </details>
    </section>

    <!-- CITE -->
    <section class="section fadeIn" id="cite">
      <h2 id="secCiteTitle">Cite / Reference</h2>
      <p id="secCiteDesc">Use the DOI for citations. The paper can be added later when published.</p>

      <div class="grid">
        <div class="card">
          <h3><span id="cite1Title">Zenodo DOI (Versioned)</span></h3>
          <p id="cite1Desc">Recommended citation for v1.0.0.</p>

          <div class="row">
            <a class="btn small" href="https://doi.org/10.5281/zenodo.18525599" target="_blank" rel="noopener">
              <img src="https://zenodo.org/badge/DOI/10.5281/zenodo.18525599.svg" alt="DOI" style="height:18px; width:auto;">
            </a>
            <a class="btn small" href="https://doi.org/10.5281/zenodo.18525599" target="_blank" rel="noopener">Open on Zenodo</a>
          </div>

          <div class="citebox mono" id="citeText">
Attarbashian, V. (2026). AirSat: Satellite-based air pollution monitoring system for Iran (Version 1.0.0) [Software]. Zenodo. https://doi.org/10.5281/zenodo.18525599
          </div>

          <div class="row">
            <button class="btn small" type="button" id="btnCopyCite">Copy citation</button>
            <a class="btn small" href="mailto:attarbashian@gmail.com">Email author</a>
          </div>

          <div class="hint" id="paperHint">
            Paper: forthcoming. Once published, we will add the full article reference here.
          </div>
        </div>

        <div class="card">
          <h3><span id="cite2Title">BibTeX (for LaTeX)</span></h3>
          <p id="cite2Desc">You can paste this in your .bib file.</p>

          <div class="citebox mono" id="bibtexText">
@software{Attarbashian_AirSat_2026,
  author  = {Attarbashian, Vahid},
  title   = {AirSat: Satellite-based Air Pollution Monitoring System for Iran},
  version = {1.0.0},
  year    = {2026},
  publisher = {Zenodo},
  doi     = {10.5281/zenodo.18525599},
  url     = {https://doi.org/10.5281/zenodo.18525599}
}
          </div>

          <div class="row">
            <button class="btn small" type="button" id="btnCopyBib">Copy BibTeX</button>
            <a class="btn small" href="https://github.com/Attarbashian/AirSat" target="_blank" rel="noopener">GitHub</a>
          </div>

          
        </div>
      </div>
    </section>

    <!-- ABOUT -->
    <section class="section fadeIn" id="about">
      <h2 id="secAboutTitle">About</h2>

      <div class="langBlock active" id="aboutEN">
        <p>
          AirSat is designed, developed, and implemented entirely by <b>Vahid Attarbashian</b> as part of a broader PhD research project.
          It is built on Sentinel-5P (Level-3, OFFL) data from 2018 onwards and focuses on national-scale monitoring, hotspot detection,
          provincial comparisons, and temporal analysis of atmospheric pollutants over Iran.
        </p>
      </div>

      <div class="langBlock fa" id="aboutFA">
        <p>
          Ø§ÛŒØ±Ø³Ø§Øª Ø¨Ù‡â€ŒØµÙˆØ±Øª Ú©Ø§Ù…Ù„ ØªÙˆØ³Ø· <b>ÙˆØ­ÛŒØ¯ Ø¹Ø·Ø§Ø±Ø¨Ø§Ø´ÛŒØ§Ù†</b> Ø·Ø±Ø§Ø­ÛŒØŒ ØªÙˆØ³Ø¹Ù‡ Ùˆ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø´Ø¯Ù‡ Ùˆ Ø¨Ø®Ø´ÛŒ Ø§Ø² Ù¾Ú˜ÙˆÙ‡Ø´ Ø¯Ú©ØªØ±ÛŒ Ø§Ø³Øª.
          Ø³Ø§Ù…Ø§Ù†Ù‡ Ø¨Ø± Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Sentinel-5P (Level-3, OFFL) Ø§Ø² Ø³Ø§Ù„ Û²Û°Û±Û¸ Ø¨Ù‡ Ø¨Ø¹Ø¯ ØªÚ©ÛŒÙ‡ Ø¯Ø§Ø±Ø¯ Ùˆ Ø¨Ø± Ù¾Ø§ÛŒØ´ Ù…Ù„ÛŒØŒ Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ù†Ù‚Ø§Ø· Ø¯Ø§ØºØŒ
          Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø§Ø³ØªØ§Ù†ÛŒ Ùˆ ØªØ­Ù„ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø²Ù…Ø§Ù†ÛŒ Ø¢Ù„Ø§ÛŒÙ†Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¬ÙˆÛŒ Ø§ÛŒØ±Ø§Ù† ØªÙ…Ø±Ú©Ø² Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
        </p>
      </div>

      <div class="grid" style="margin-top:12px;">
        

        <div class="card">
          <h3><span id="contactTitle">Contact</span></h3>
          <p id="contactDesc">For collaboration, feedback, or academic inquiries:</p>
          <div class="row">
            <a class="btn small" href="mailto:attarbashian@gmail.com">attarbashian@gmail.com</a>
          </div>
        </div>
      </div>
    </section>

    <footer>
      <div><b id="footerMade">Made with â¤ï¸ for Iran</b></div>
      <div style="margin-top:6px;" id="footerCopy">Â© AirSat â€” Vahid Attarbashian</div>
    </footer>
  </div>

  <div class="toast" id="toast">Copied</div>

  <script>
    (function(){
      const DOI = "10.5281/zenodo.18525599";
      const DOI_URL = "https://doi.org/" + DOI;

      const btnEN = document.getElementById('btnEN');
      const btnFA = document.getElementById('btnFA');

      const drawer = document.getElementById('drawer');
      const menuBtn = document.getElementById('menuBtn');

      const toast = document.getElementById('toast');
      function showToast(msg){
        toast.textContent = msg;
        toast.classList.add('show');
        setTimeout(() => toast.classList.remove('show'), 1100);
      }

      const blocks = {
        EN: [document.getElementById('blockEN'), document.getElementById('aboutEN')],
        FA: [document.getElementById('blockFA'), document.getElementById('aboutFA')]
      };

      const i18n = {
        EN: {
          brandSub: "Satellite air quality monitoring (Iran)",
          badgeText: "Nationwide, satellite-driven â€¢ Built on Google Earth Engine",
          navOverview: "Overview",
          navFeatures: "Features",
          navDemos: "Live demos",
          navCite: "Cite",
          navAbout: "About",
          drawerOverview: "Overview",
          drawerFeatures: "Features",
          drawerDemos: "Live demos",
          drawerCite: "Cite",
          drawerAbout: "About",
          shotCap: "Preview â€¢ AirSat dashboard / documentation cover",

          secOverviewTitle: "Overview",
          secOverviewDesc: "Scope, pollutants, and what the system computes and visualizes.",
          card1Title: "Pollutants covered",
          card1Desc: "NOâ‚‚, SOâ‚‚, CO, Oâ‚ƒ, HCHO, CHâ‚„, and UV Aerosol Index (Sentinel-5P).",
          card2Title: "Time-window means",
          card2Desc: "Compute temporal means for selected windows (7d, 30d, last 3 months, year, or custom range).",
          card3Title: "Hotspots & province view",
          card3Desc: "Hotspot maps for the whole country or each province separately.",
          card4Title: "Maps, charts, and downloads",
          card4Desc: "Maps + charts plus direct downloads of GeoTIFF (raw) and PNG (color maps).",
          card5Title: "Data source",
          card5Desc: "Sentinel-5P (Level-3, OFFL), 2018â€“present. Temporal averaging over user-selected windows.",
          card6Title: "Intended use",
          card6Desc: "Designed for trends, hotspots, and relative comparisonsâ€”complementary to ground stations and models.",

          secFeaturesTitle: "Features",
          secFeaturesDesc: "Analysis modes, comparisons, and scientific notes about units and gaps.",
          feat1Title: "Dynamic mean maps",
          feat1Desc: "7 days, 30 days, last 3 months, current year, or custom time range.",
          feat2Title: "Provincial comparison",
          feat2Desc: "Bar chart comparison of provincial mean values over the selected period.",
          feat3Title: "Time series & annual mode",
          feat3Desc: "For any province: mean per image or mean per year comparisons.",
          feat4Title: "Downloads",
          feat4Desc: "Direct download of GeoTIFF (raw) and PNG (color maps) for analysis/reporting.",

          unitsTitle: "About units (important)",
          unitsBody: "For most pollutants, Sentinel-5P provides column densities in mol/mÂ² (vertical column amount), not surface concentration. Converting to ppm or Âµg/mÂ³ requires additional information and is not performed internally in this version. Methane (CHâ‚„) is shown as dry-air mole fraction in ppb as defined by the Sentinel-5P CHâ‚„ product.",
          gapsTitle: "Why do some areas show data gaps (â€œholesâ€)?",
          gapsBody: "QA masking can remove low-confidence pixels (clouds, geometry, retrieval issues, orbit edges), producing patchy patterns. Expanding the time window may improve coverage via temporal averaging.",
          noteTitle: "Important note",
          noteBody: "AirSat complements ground-based monitoring and numerical models, not a replacement. It is intended for trends, large-scale patterns, hotspots, and relative differencesâ€”rather than legal compliance.",

          secCiteTitle: "Cite / Reference",
          secCiteDesc: "Use the DOI for citations. The paper can be added later when published.",
          cite1Title: "Zenodo DOI (Versioned)",
          cite1Desc: "Recommended citation for v1.0.0.",
          btnCopyCite: "Copy citation",
          paperHint: "Paper: forthcoming. Once published, we will add the full article reference here.",
          cite2Title: "BibTeX (for LaTeX)",
          cite2Desc: "You can paste this in your .bib file.",
          btnCopyBib: "Copy BibTeX",
          cite2Hint: "Tip: If you create future releases, Zenodo will mint a new DOI per version automatically.",

          secAboutTitle: "About",
          nextTitle: "Suggested next",
          nextDesc: "Recommended upgrades to improve discoverability and academic readiness.",
          nextList: [
            "Add a screenshot gallery to increase trust and clarity.",
            "Add a short â€œMethodologyâ€ section describing QA masking and aggregation.",
            "Add paper reference when published (or preprint link)."
          ],
          contactTitle: "Contact",
          contactDesc: "For collaboration, feedback, or academic inquiries:",
          footerMade: "Made with â¤ï¸ for Iran",
          footerCopy: "Â© AirSat â€” Vahid Attarbashian",
          toastCopied: "Copied"
        },

        FA: {
          brandSub: "Ù¾Ø§ÛŒØ´ Ù…Ø§Ù‡ÙˆØ§Ø±Ù‡â€ŒØ§ÛŒ Ø¢Ù„ÙˆØ¯Ú¯ÛŒ Ù‡ÙˆØ§ (Ø§ÛŒØ±Ø§Ù†)",
          badgeText: "Ù¾ÙˆØ´Ø´ Ù…Ù„ÛŒØŒ Ù…Ø¨ØªÙ†ÛŒ Ø¨Ø± Ù…Ø§Ù‡ÙˆØ§Ø±Ù‡ â€¢ ØªÙˆØ³Ø¹Ù‡â€ŒÛŒØ§ÙØªÙ‡ Ø¨Ø± Ø¨Ø³ØªØ± Google Earth Engine",
          navOverview: "Ù…Ø¹Ø±ÙÛŒ",
          navFeatures: "ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§",
          navDemos: "Ù†Ø³Ø®Ù‡â€ŒÙ‡Ø§ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ†",
          navCite: "Ø§Ø±Ø¬Ø§Ø¹",
          navAbout: "Ø¯Ø±Ø¨Ø§Ø±Ù‡",
          drawerOverview: "Ù…Ø¹Ø±ÙÛŒ",
          drawerFeatures: "ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§",
          drawerDemos: "Ù†Ø³Ø®Ù‡â€ŒÙ‡Ø§ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ†",
          drawerCite: "Ø§Ø±Ø¬Ø§Ø¹",
          drawerAbout: "Ø¯Ø±Ø¨Ø§Ø±Ù‡",
          shotCap: "Ù¾ÛŒØ´â€ŒÙ†Ù…Ø§ÛŒØ´ â€¢ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯/Ú©Ø§ÙˆØ± Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø§ÛŒØ±Ø³Ø§Øª",

          secOverviewTitle: "Ù…Ø¹Ø±ÙÛŒ",
          secOverviewDesc: "Ø¯Ø§Ù…Ù†Ù‡ØŒ Ø¢Ù„Ø§ÛŒÙ†Ø¯Ù‡â€ŒÙ‡Ø§ Ùˆ Ø®Ø±ÙˆØ¬ÛŒâ€ŒÙ‡Ø§ÛŒ Ø³Ø§Ù…Ø§Ù†Ù‡ (Ù…Ø­Ø§Ø³Ø¨Ù‡ Ùˆ Ù†Ù…Ø§ÛŒØ´).",
          card1Title: "Ø¢Ù„Ø§ÛŒÙ†Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù¾ÙˆØ´Ø´â€ŒØ¯Ø§Ø¯Ù‡â€ŒØ´Ø¯Ù‡",
          card1Desc: "NOâ‚‚ØŒ SOâ‚‚ØŒ COØŒ Oâ‚ƒØŒ HCHOØŒ CHâ‚„ Ùˆ Ø´Ø§Ø®Øµ UV Aerosol (Sentinel-5P).",
          card2Title: "Ù…ÛŒØ§Ù†Ú¯ÛŒÙ†â€ŒÚ¯ÛŒØ±ÛŒ Ø²Ù…Ø§Ù†ÛŒ Ù¾ÙˆÛŒØ§",
          card2Desc: "Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø²Ù…Ø§Ù†ÛŒ Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø²Ù‡â€ŒÙ‡Ø§ÛŒ Û· Ø±ÙˆØ²Ù‡ØŒ Û³Û° Ø±ÙˆØ²Ù‡ØŒ Û³ Ù…Ø§Ù‡ Ø§Ø®ÛŒØ±ØŒ Ø³Ø§Ù„ Ø¬Ø§Ø±ÛŒ ÛŒØ§ Ø¨Ø§Ø²Ù‡ Ø¯Ù„Ø®ÙˆØ§Ù‡.",
          card3Title: "Ù†Ù‚Ø§Ø· Ø¯Ø§Øº Ùˆ Ù†Ù…Ø§ÛŒØ´ Ø§Ø³ØªØ§Ù†ÛŒ",
          card3Desc: "Ù†Ù‚Ø´Ù‡ Ù†Ù‚Ø§Ø· Ø¯Ø§Øº Ø¨Ø±Ø§ÛŒ Ú©Ù„ Ú©Ø´ÙˆØ± ÛŒØ§ Ù‡Ø± Ø§Ø³ØªØ§Ù† Ø¨Ù‡â€ŒØµÙˆØ±Øª Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡.",
          card4Title: "Ù†Ù‚Ø´Ù‡ØŒ Ù†Ù…ÙˆØ¯Ø§Ø± Ùˆ Ø¯Ø§Ù†Ù„ÙˆØ¯",
          card4Desc: "Ù†Ù‚Ø´Ù‡â€ŒÙ‡Ø§ Ùˆ Ù†Ù…ÙˆØ¯Ø§Ø±Ù‡Ø§ + Ø¯Ø§Ù†Ù„ÙˆØ¯ Ù…Ø³ØªÙ‚ÛŒÙ… GeoTIFF (Ø®Ø§Ù…) Ùˆ PNG (Ù†Ù‚Ø´Ù‡ Ø±Ù†Ú¯ÛŒ).",
          card5Title: "Ù…Ù†Ø¨Ø¹ Ø¯Ø§Ø¯Ù‡",
          card5Desc: "Sentinel-5P (Level-3, OFFL)ØŒ Ø§Ø² Û²Û°Û±Û¸ ØªØ§ Ø§Ù…Ø±ÙˆØ². Ù…ÛŒØ§Ù†Ú¯ÛŒÙ†â€ŒÚ¯ÛŒØ±ÛŒ Ø²Ù…Ø§Ù†ÛŒ Ø±ÙˆÛŒ Ø¨Ø§Ø²Ù‡ Ø§Ù†ØªØ®Ø§Ø¨ÛŒ Ú©Ø§Ø±Ø¨Ø±.",
          card6Title: "Ú©Ø§Ø±Ø¨Ø±Ø¯ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ",
          card6Desc: "Ø¨Ø±Ø§ÛŒ Ø±ÙˆÙ†Ø¯Ù‡Ø§ØŒ Ù†Ù‚Ø§Ø· Ø¯Ø§Øº Ùˆ Ù…Ù‚Ø§ÛŒØ³Ù‡ Ù†Ø³Ø¨ÛŒâ€”Ù…Ú©Ù…Ù„ Ø§ÛŒØ³ØªÚ¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ø²Ù…ÛŒÙ†ÛŒ Ùˆ Ù…Ø¯Ù„â€ŒÙ‡Ø§.",

          secFeaturesTitle: "ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§",
          secFeaturesDesc: "Ø­Ø§Ù„Øªâ€ŒÙ‡Ø§ÛŒ ØªØ­Ù„ÛŒÙ„ØŒ Ù…Ù‚Ø§ÛŒØ³Ù‡â€ŒÙ‡Ø§ Ùˆ Ù†Ú©Ø§Øª Ø¹Ù„Ù…ÛŒ Ø¯Ø±Ø¨Ø§Ø±Ù‡ ÙˆØ§Ø­Ø¯Ù‡Ø§ Ùˆ Ú¯Ù¾â€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ø¯Ù‡.",
          feat1Title: "Ù†Ù‚Ø´Ù‡â€ŒÙ‡Ø§ÛŒ Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ù¾ÙˆÛŒØ§",
          feat1Desc: "Û· Ø±ÙˆØ²ØŒ Û³Û° Ø±ÙˆØ²ØŒ Û³ Ù…Ø§Ù‡ Ø§Ø®ÛŒØ±ØŒ Ø³Ø§Ù„ Ø¬Ø§Ø±ÛŒ ÛŒØ§ Ø¨Ø§Ø²Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ø¯Ù„Ø®ÙˆØ§Ù‡.",
          feat2Title: "Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø§Ø³ØªØ§Ù†ÛŒ",
          feat2Desc: "Ù…Ù‚Ø§ÛŒØ³Ù‡ Ù†Ù…ÙˆØ¯Ø§Ø±ÛŒ (Ø³ØªÙˆÙ†ÛŒ) Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø§Ø³ØªØ§Ù†â€ŒÙ‡Ø§ Ø¯Ø± Ø¨Ø§Ø²Ù‡ Ø§Ù†ØªØ®Ø§Ø¨ÛŒ.",
          feat3Title: "Ø³Ø±ÛŒ Ø²Ù…Ø§Ù†ÛŒ Ùˆ Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø³Ø§Ù„Ø§Ù†Ù‡",
          feat3Desc: "Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ø§Ø³ØªØ§Ù†: Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ù‡Ø± ØªØµÙˆÛŒØ± ÛŒØ§ Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø³Ø§Ù„Ø§Ù†Ù‡.",
          feat4Title: "Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø®Ø±ÙˆØ¬ÛŒâ€ŒÙ‡Ø§",
          feat4Desc: "Ø¯Ø§Ù†Ù„ÙˆØ¯ Ù…Ø³ØªÙ‚ÛŒÙ… GeoTIFF Ùˆ PNG Ø¨Ø±Ø§ÛŒ ØªØ­Ù„ÛŒÙ„ Ùˆ Ú¯Ø²Ø§Ø±Ø´â€ŒÙ†ÙˆÛŒØ³ÛŒ.",

          unitsTitle: "Ø¯Ø±Ø¨Ø§Ø±Ù‡ ÙˆØ§Ø­Ø¯Ù‡Ø§ (Ø®ÛŒÙ„ÛŒ Ù…Ù‡Ù…)",
          unitsBody: "Ø¨Ø±Ø§ÛŒ Ø§ØºÙ„Ø¨ Ø¢Ù„Ø§ÛŒÙ†Ø¯Ù‡â€ŒÙ‡Ø§ØŒ Sentinel-5P Â«Ú†Ú¯Ø§Ù„ÛŒ Ø³ØªÙˆÙ†ÛŒÂ» Ø±Ø§ Ø¯Ø± ÙˆØ§Ø­Ø¯ mol/mÂ² Ø§Ø±Ø§Ø¦Ù‡ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ (Ù…Ù‚Ø¯Ø§Ø± Ú©Ù„ Ø¯Ø± Ø³ØªÙˆÙ† Ø¹Ù…ÙˆØ¯ÛŒ Ù‡ÙˆØ§)ØŒ Ù†Ù‡ ØºÙ„Ø¸Øª Ø³Ø·Ø­ÛŒ. ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ ppm ÛŒØ§ Âµg/mÂ³ Ù†ÛŒØ§Ø²Ù…Ù†Ø¯ Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÚ©Ù…ÛŒÙ„ÛŒ Ø§Ø³Øª Ùˆ Ø¯Ø± Ø§ÛŒÙ† Ù†Ø³Ø®Ù‡ Ø§Ù†Ø¬Ø§Ù… Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯. Ù…ØªØ§Ù† (CHâ‚„) Ù…Ø·Ø§Ø¨Ù‚ Ù…Ø­ØµÙˆÙ„ Sentinel-5P Ø¯Ø± ÙˆØ§Ø­Ø¯ ppb (dry-air mole fraction) Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.",
          gapsTitle: "Ú†Ø±Ø§ Ø¨Ø¹Ø¶ÛŒ Ù…Ù†Ø§Ø·Ù‚ Ú¯Ù¾ Ø¯Ø§Ø¯Ù‡ ÛŒØ§ Â«Ø­ÙØ±Ù‡Â» Ø¯Ø§Ø±Ù†Ø¯ØŸ",
          gapsBody: "QA masking Ù¾ÛŒÚ©Ø³Ù„â€ŒÙ‡Ø§ÛŒ Ú©Ù…â€ŒØ§Ø·Ù…ÛŒÙ†Ø§Ù† Ø±Ø§ Ø­Ø°Ù Ù…ÛŒâ€ŒÚ©Ù†Ø¯ (Ø§Ø¨Ø±ØŒ Ù‡Ù†Ø¯Ø³Ù‡ØŒ Ø®Ø·Ø§ÛŒ Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒØŒ Ù„Ø¨Ù‡ Ù…Ø¯Ø§Ø±) Ùˆ Ø§Ù„Ú¯ÙˆÛŒ ØªÚ©Ù‡â€ŒØªÚ©Ù‡ Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯. Ø§ÙØ²Ø§ÛŒØ´ Ø¨Ø§Ø²Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ù…Ù…Ú©Ù† Ø§Ø³Øª Ù¾ÙˆØ´Ø´ Ø±Ø§ Ø¨Ù‡ØªØ± Ú©Ù†Ø¯.",
          noteTitle: "Ù†Ú©ØªÙ‡ Ù…Ù‡Ù…",
          noteBody: "Ø§ÛŒØ±Ø³Ø§Øª Ù…Ú©Ù…Ù„ Ù¾Ø§ÛŒØ´ Ø²Ù…ÛŒÙ†ÛŒ Ùˆ Ù…Ø¯Ù„â€ŒÙ‡Ø§ÛŒ Ø¹Ø¯Ø¯ÛŒ Ø§Ø³ØªØŒ Ù†Ù‡ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ†. Ù‡Ø¯Ù Ø¢Ù† Ø±ÙˆÙ†Ø¯Ù‡Ø§ØŒ Ø§Ù„Ú¯ÙˆÙ‡Ø§ÛŒ Ø¨Ø²Ø±Ú¯â€ŒÙ…Ù‚ÛŒØ§Ø³ØŒ Ù†Ù‚Ø§Ø· Ø¯Ø§Øº Ùˆ ØªÙØ§ÙˆØªâ€ŒÙ‡Ø§ÛŒ Ù†Ø³Ø¨ÛŒ Ø§Ø³ØªØŒ Ù†Ù‡ ØªØµÙ…ÛŒÙ…â€ŒÙ‡Ø§ÛŒ Ù…Ù‚Ø±Ø±Ø§ØªÛŒ.",

          secCiteTitle: "Ø§Ø±Ø¬Ø§Ø¹ / Ø±ÙØ±Ù†Ø³â€ŒØ¯Ù‡ÛŒ",
          secCiteDesc: "Ø¨Ø±Ø§ÛŒ Ø§Ø±Ø¬Ø§Ø¹ Ø¹Ù„Ù…ÛŒ Ø§Ø² DOI Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯. Ø¨Ø¹Ø¯Ø§Ù‹ Ø¨Ø§ Ú†Ø§Ù¾ Ù…Ù‚Ø§Ù„Ù‡ØŒ Ø±ÙØ±Ù†Ø³ Ù…Ù‚Ø§Ù„Ù‡ Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.",
          cite1Title: "DOI Ø²Ù†ÙˆØ¯Ùˆ (Ù†Ø³Ø®Ù‡â€ŒØ¯Ø§Ø±)",
          cite1Desc: "Ø±ÙØ±Ù†Ø³ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ Ø¨Ø±Ø§ÛŒ Ù†Ø³Ø®Ù‡ Û±.Û°.Û°.",
          btnCopyCite: "Ú©Ù¾ÛŒ Ø§Ø±Ø¬Ø§Ø¹",
          paperHint: "Ù…Ù‚Ø§Ù„Ù‡: Ø¯Ø± Ø¯Ø³Øª Ø§Ù†ØªØ´Ø§Ø±. Ù¾Ø³ Ø§Ø² Ú†Ø§Ù¾ØŒ Ø±ÙØ±Ù†Ø³ Ú©Ø§Ù…Ù„ Ø§ÛŒÙ†Ø¬Ø§ Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.",
          cite2Title: "BibTeX (Ø¨Ø±Ø§ÛŒ LaTeX)",
          cite2Desc: "Ø§ÛŒÙ† Ø±Ø§ Ø¯Ø± ÙØ§ÛŒÙ„ .bib Ù‚Ø±Ø§Ø± Ø¯Ù‡ÛŒØ¯.",
          btnCopyBib: "Ú©Ù¾ÛŒ BibTeX",
          cite2Hint: "Ù†Ú©ØªÙ‡: Ø¨Ø§ Ù‡Ø± Release Ø¬Ø¯ÛŒØ¯ØŒ Zenodo ÛŒÚ© DOI Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ø§Ù† Ù†Ø³Ø®Ù‡ ØµØ§Ø¯Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯.",

          secAboutTitle: "Ø¯Ø±Ø¨Ø§Ø±Ù‡",
          nextTitle: "Ù‚Ø¯Ù…â€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ Ø¨Ø¹Ø¯ÛŒ",
          nextDesc: "Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯Ù‡Ø§ÛŒÛŒ Ø¨Ø±Ø§ÛŒ Ø¯ÛŒØ¯Ù‡â€ŒØ´Ø¯Ù† Ø¨Ù‡ØªØ± Ùˆ Ø¢Ù…Ø§Ø¯Ú¯ÛŒ Ø¢Ú©Ø§Ø¯Ù…ÛŒÚ© Ù¾Ø±ÙˆÚ˜Ù‡.",
          nextList: [
            "ÛŒÚ© Ú¯Ø§Ù„Ø±ÛŒ Ø§Ø³Ú©Ø±ÛŒÙ†â€ŒØ´Ø§Øª Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯ ØªØ§ Ø§Ø¹ØªÙ…Ø§Ø¯ Ùˆ Ø´ÙØ§ÙÛŒØª Ø¨ÛŒØ´ØªØ± Ø´ÙˆØ¯.",
            "ÛŒÚ© Ø¨Ø®Ø´ Ø±ÙˆØ´â€ŒØ´Ù†Ø§Ø³ÛŒ Ú©ÙˆØªØ§Ù‡ Ø¯Ø±Ø¨Ø§Ø±Ù‡ QA Ùˆ Ù…ÛŒØ§Ù†Ú¯ÛŒÙ†â€ŒÚ¯ÛŒØ±ÛŒ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯.",
            "Ù¾Ø³ Ø§Ø² Ú†Ø§Ù¾ Ù…Ù‚Ø§Ù„Ù‡ (ÛŒØ§ Ù¾ÛŒØ´â€ŒÚ†Ø§Ù¾)ØŒ Ù„ÛŒÙ†Ú© Ùˆ Ø±ÙØ±Ù†Ø³ Ø±Ø§ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯."
          ],
          contactTitle: "ØªÙ…Ø§Ø³",
          contactDesc: "Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ú©Ø§Ø±ÛŒØŒ Ø¨Ø§Ø²Ø®ÙˆØ±Ø¯ ÛŒØ§ Ø§Ù…ÙˆØ± Ù¾Ú˜ÙˆÙ‡Ø´ÛŒ:",
          footerMade: "Ø³Ø§Ø®ØªÙ‡â€ŒØ´Ø¯Ù‡ Ø¨Ø§ â¤ï¸ Ø¨Ø±Ø§ÛŒ Ø§ÛŒØ±Ø§Ù†",
          footerCopy: "Â© AirSat â€” Vahid Attarbashian",
          toastCopied: "Ú©Ù¾ÛŒ Ø´Ø¯"
        }
      };

      function applyStaticText(lang){
        const dict = i18n[lang];

        const ids = [
          "brandSub","badgeText","navOverview","navFeatures","navDemos","navCite","navAbout",
          "drawerOverview","drawerFeatures","drawerDemos","drawerCite","drawerAbout",
          "shotCap",
          "secOverviewTitle","secOverviewDesc","card1Title","card1Desc","card2Title","card2Desc",
          "card3Title","card3Desc","card4Title","card4Desc","card5Title","card5Desc","card6Title","card6Desc",
          "secFeaturesTitle","secFeaturesDesc","feat1Title","feat1Desc","feat2Title","feat2Desc",
          "feat3Title","feat3Desc","feat4Title","feat4Desc",
          "unitsTitle","unitsBody","gapsTitle","gapsBody","noteTitle","noteBody",
          "secCiteTitle","secCiteDesc","cite1Title","cite1Desc","paperHint","cite2Title","cite2Desc","cite2Hint",
          "secAboutTitle","nextTitle","nextDesc","contactTitle","contactDesc",
          "footerMade","footerCopy"
        ];

        ids.forEach((id) => {
          const el = document.getElementById(id);
          if (el) el.textContent = dict[id];
        });

        // Next list items
        const nextList = document.getElementById("nextList");
        if (nextList && Array.isArray(dict.nextList)) {
          nextList.innerHTML = "";
          dict.nextList.forEach(item => {
            const li = document.createElement("li");
            li.textContent = item;
            nextList.appendChild(li);
          });
        }

        // Button labels + toast
        const copyC = document.getElementById("btnCopyCite");
        if (copyC) copyC.textContent = dict.btnCopyCite;

        const copyB = document.getElementById("btnCopyBib");
        if (copyB) copyB.textContent = dict.btnCopyBib;

        toast.textContent = dict.toastCopied;
      }

      function setLang(lang){
        const isFA = lang === 'FA';

        blocks.EN.forEach(el => el && el.classList.toggle('active', !isFA));
        blocks.FA.forEach(el => el && el.classList.toggle('active', isFA));

        btnEN.classList.toggle('active', !isFA);
        btnFA.classList.toggle('active', isFA);
        btnEN.setAttribute('aria-pressed', String(!isFA));
        btnFA.setAttribute('aria-pressed', String(isFA));

        document.documentElement.setAttribute('lang', isFA ? 'fa' : 'en');
        document.body.classList.toggle('fa', isFA);

        applyStaticText(lang);

        localStorage.setItem('airsat_lang', lang);
        const url = new URL(window.location.href);
        url.searchParams.set('lang', lang);
        window.history.replaceState({}, '', url.toString());
      }

      btnEN.addEventListener('click', () => setLang('EN'));
      btnFA.addEventListener('click', () => setLang('FA'));

      if(menuBtn){
        menuBtn.addEventListener('click', () => drawer.classList.toggle('open'));
        drawer.querySelectorAll('a').forEach(a => a.addEventListener('click', () => drawer.classList.remove('open')));
      }

      async function copyText(text, okMsg, failMsg){
        try{
          await navigator.clipboard.writeText(text);
          showToast(okMsg);
        }catch(e){
          showToast(failMsg);
        }
      }

      const btnCopyCite = document.getElementById("btnCopyCite");
      if(btnCopyCite){
        btnCopyCite.addEventListener("click", () => {
          const cite = document.getElementById("citeText")?.textContent?.trim() || "";
          const lang = localStorage.getItem('airsat_lang') || 'EN';
          copyText(cite, i18n[lang].toastCopied, "Copy failed");
        });
      }

      const btnCopyBib = document.getElementById("btnCopyBib");
      if(btnCopyBib){
        btnCopyBib.addEventListener("click", () => {
          const bib = document.getElementById("bibtexText")?.textContent?.trim() || "";
          const lang = localStorage.getItem('airsat_lang') || 'EN';
          copyText(bib, i18n[lang].toastCopied, "Copy failed");
        });
      }

      // Init: URL param > localStorage > default EN
      const url = new URL(window.location.href);
      const fromUrl = url.searchParams.get('lang');
      const fromStore = localStorage.getItem('airsat_lang');
      const lang = (fromUrl === 'FA' || fromUrl === 'EN') ? fromUrl : (fromStore === 'FA' || fromStore === 'EN' ? fromStore : 'EN');
      setLang(lang);
    })();
  </script>
</body>
</html>
